# ================================================================
# SMART STUDY GROUP MATCHER SYSTEM - BACKEND ENVIRONMENT
# ================================================================
# This file contains all environment variables needed for the backend
# Copy this file to .env and fill in the actual values

# ================================================================
# DATABASE CONFIGURATION
# ================================================================
# MongoDB connection string
# For development: mongodb://localhost:27017/studymatcher
# For production: mongodb+srv://username:password@cluster.mongodb.net/studymatcher?retryWrites=true&w=majority
MONGODB_URI=mongodb://localhost:27017/studymatcher

# Database name (optional, usually included in URI)
DB_NAME=studymatcher

# ================================================================
# AUTHENTICATION & SECURITY
# ================================================================
# JWT secret key - MUST be a strong, random string in production
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
JWT_SECRET=your-super-secure-jwt-secret-key-change-this-in-production

# JWT token expiration time
JWT_EXPIRES_IN=7d

# JWT refresh token expiration time
JWT_REFRESH_EXPIRES_IN=30d

# Bcrypt salt rounds (10-12 recommended for production)
BCRYPT_SALT_ROUNDS=12

# ================================================================
# SERVER CONFIGURATION
# ================================================================
# Node environment
NODE_ENV=development

# Server port
PORT=3001

# API version
API_VERSION=v1

# ================================================================
# CORS & FRONTEND CONFIGURATION
# ================================================================
# Frontend URL for CORS
FRONTEND_URL=http://localhost:5173

# Allowed origins for CORS (comma-separated)
ALLOWED_ORIGINS=http://localhost:5173,http://localhost:3000,http://127.0.0.1:5173

# ================================================================
# RATE LIMITING
# ================================================================
# Rate limit window in minutes
RATE_LIMIT_WINDOW=15

# Maximum requests per window
RATE_LIMIT_MAX_REQUESTS=100

# Login attempt rate limiting
LOGIN_RATE_LIMIT_WINDOW=15
LOGIN_RATE_LIMIT_MAX_ATTEMPTS=5

# ================================================================
# LOGGING CONFIGURATION
# ================================================================
# Log level (error, warn, info, debug)
LOG_LEVEL=info

# Log format (json, simple)
LOG_FORMAT=simple

# Enable request logging
ENABLE_REQUEST_LOGGING=true

# ================================================================
# SESSION & COOKIES
# ================================================================
# Session secret for cookie signing
SESSION_SECRET=your-session-secret-change-this

# Cookie settings
COOKIE_SECURE=false
COOKIE_HTTP_ONLY=true
COOKIE_SAME_SITE=lax

# ================================================================
# EMAIL CONFIGURATION (Optional - for future features)
# ================================================================
# Email service configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password
# FROM_EMAIL=noreply@studymatcher.com

# ================================================================
# MONITORING & ANALYTICS (Optional)
# ================================================================
# Sentry DSN for error tracking
# SENTRY_DSN=https://your-sentry-dsn

# Google Analytics ID
# GA_TRACKING_ID=GA-XXXXXXXX-X

# ================================================================
# FEATURE FLAGS
# ================================================================
# Enable/disable features
ENABLE_USER_REGISTRATION=true
ENABLE_STUDY_GROUP_CREATION=true
ENABLE_MATCHING_SERVICE=true
ENABLE_EMAIL_NOTIFICATIONS=false

# ================================================================
# DEVELOPMENT ONLY
# ================================================================
# Enable detailed error messages in development
ENABLE_DETAILED_ERRORS=true

# Enable API documentation
ENABLE_API_DOCS=true

# Seed database with test data
SEED_DATABASE=false